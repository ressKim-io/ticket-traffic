spring:
  application:
    name: auth-service

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/sportstix_auth}
    username: ${SPRING_DATASOURCE_USERNAME:auth_user}
    password: ${SPRING_DATASOURCE_PASSWORD:auth_pass}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    open-in-view: false

  flyway:
    enabled: true
    locations: classpath:db/migration
    user: ${SPRING_FLYWAY_USER:postgres}
    password: ${SPRING_FLYWAY_PASSWORD:postgres}

  data:
    redis:
      host: ${SPRING_DATA_REDIS_HOST:localhost}
      port: ${SPRING_DATA_REDIS_PORT:6379}

server:
  port: ${SERVER_PORT:8081}

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    health:
      show-details: when_authorized

logging:
  level:
    com.sportstix: INFO
    org.hibernate.SQL: WARN

springdoc:
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: method
    tags-sorter: alpha
  api-docs:
    path: /v3/api-docs
  packages-to-scan: com.sportstix.auth.controller
  default-produces-media-type: application/json
  default-consumes-media-type: application/json
  show-actuator: false

# DEV-ONLY defaults: override via environment variables in production (ExternalSecret -> AWS Secrets Manager)
jwt:
  kid: ${JWT_KID:sportstix-1}
  private-key: ${JWT_PRIVATE_KEY:-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDbAY9YtsOCwWuASAjhGUWRDHwzLziUA1DESXYsB1vF1+lyCwhEWZTapCEd45l3HsJhTrFPN2sIJq8ccfh69pyJd8AjL5rbwQ44La0q7yy0SNYUGP1f57MUGl2IKuOmvggjLWM8Ypo5j93uqWwsMVygwvXKiDolcuLP1OUM3CYZWxO/zEkWl9974fQ+oENtEPJo+2zR7ULrbhPYoe2bK6poSYkTI5J5LZT4oUDGV2Y66Fvvji7aeMxAp987qiChg21mSurWVgWTNqHUZ5laSvFV6ZFlPQixwZWsQm7MQiGRbsASSt0kZ5uh9TvyOV8mGexTTnB0IBRbNJicXnZivJYpAgMBAAECggEAEQF2wPqAxXk2m1bcm6VeTcRPVkZ4fqPK7yb407Pm6ClbHErSLkPaJ2fJwNv7aXDHGA5n0xZ4S5Z8uqPN7zcRkioX4745UzmTMgENT9wTwlRf4okgju8mAcMHWBYOfdQxO7wKlzXdMxLiYTsg0MYCIuM9+edTQ9+p0DNq7XFLIw+W5JgdnPxlxEXOqnFRpIp6vDyUG7wAYoKcF4My792Lo4RtIIkCs3Z2ZRERMzVzG7c84Mpn1OD/aOeQql5T/BsUbTd1qRyau/Hsr7xvfiz7A085t8G3RcYqfwFFnasfB0w2onhdHFsHcWczHemnTGht2cqrvz5StzHtnquv4T+iNQKBgQDxxxXyJDE4kElYcEz/KyRJlqTk8saJKbgeRmqRxHFxXR9eCcbuYafEVZ0OVN8H3OPyR/lUGLNmbK9BpJUOe/VBuAioQXwFCKq2r0SORch18Vl6FhqrGYT5zdiKePkxqdzYrGOQZig8106wzU7PZe7mzzLM44iJoxnR7030RSTcdQKBgQDn447z4LsNQhFAoJ6PpsJ6IJoDzeQYJEA+Yc/f67bMM1WiEtvFlYRWkKgmX3Hnuvw0OpWw5IhGVmoRSIoEciz1P3eG8E9rIbTQfNnNyjsdQtIzCWOeXhlwr4LmcgJ0G2fm/IOHC2JDVRvnsBsok0v4nTrwg/L+tb3LvUSylGesZQKBgQCPbYkpUisY4Q+BtW0X2qH2PbWoVBVO/T7KRv+lZaHenF2lTauDcs8xe5BmFhcQ9QsMiYHxT43tbwAwss/x/bsqt1/7YI2P9uo+4Y6Lz/3xabGo6T/8zHDEOEcDLmy194yZxPpziQbJwPhfjgv4oQGuTrBWN4yiCe2hSpM2G2aYmQKBgQDBTrD32wrztXS+ZGdqJ0EOIClkLHoOKgIoPs/UwiIDvnOPhZsR7l+A7lxOiNhirjzaqU/qQ8jaoeUP/WGY7TlPRRY2NhRuoY2jE8FZzVFURkUGaLhT5+vbRWShCL/E3KfUJgLbTAEhUkzN6r/pJkl5ulDM+aJS9VyAAIrJN+/pBQKBgHdX1XmYRWrve5E7dxh5H1y5pJN3D9FAs74OEorvKwnqmDSsKxmlekF2OdV3ZnhEUPAjyL5ZqTS23RO5LdwsEgQixe/eNOL5+h1zHSYedqQiT4/5OVFM1XsRlp2WqteqXT42MF0JVgOKigGQJ1PA7EKd8Qmg+q5knPLOinXCJkcN\n-----END PRIVATE KEY-----}
  public-key: ${JWT_PUBLIC_KEY:-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2wGPWLbDgsFrgEgI4RlFkQx8My84lANQxEl2LAdbxdfpcgsIRFmU2qQhHeOZdx7CYU6xTzdrCCavHHH4evaciXfAIy+a28EOOC2tKu8stEjWFBj9X+ezFBpdiCrjpr4IIy1jPGKaOY/d7qlsLDFcoML1yog6JXLiz9TlDNwmGVsTv8xJFpffe+H0PqBDbRDyaPts0e1C624T2KHtmyuqaEmJEyOSeS2U+KFAxldmOuhb744u2njMQKffO6ogoYNtZkrq1lYFkzah1GeZWkrxVemRZT0IscGVrEJuzEIhkW7AEkrdJGebofU78jlfJhnsU05wdCAUWzSYnF52YryWKQIDAQAB\n-----END PUBLIC KEY-----}
  access-token-expiry: ${JWT_ACCESS_EXPIRY:3600000}
  refresh-token-expiry: ${JWT_REFRESH_EXPIRY:604800000}
