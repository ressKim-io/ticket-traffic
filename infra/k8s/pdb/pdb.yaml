# Critical path services - always keep at least 1 pod available
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: queue-pdb
  namespace: sportstix
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: queue
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: game-pdb
  namespace: sportstix
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: game
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: admin-pdb
  namespace: sportstix
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: admin
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: booking-pdb
  namespace: sportstix
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: booking
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: auth-pdb
  namespace: sportstix
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: auth
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: payment-pdb
  namespace: sportstix
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: payment
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: frontend-pdb
  namespace: sportstix
spec:
  minAvailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: frontend
